import{e as Qe,R as et,W as tt,C as at,S as lt,r as me,o as R,f as B,w as r,a as D,b as l,t as Z,g as Te,h as ot,i as nt,j as st,n as ue,d as z,k as ce,m as le,c as W,F as G,l as Be,p as Y,u as v,q as Ae,s as _,v as P,x as it,y as fe,z as N,A as he,B as rt,D as Q,E as ge,G as ut,H as X,I as ct,J as te,K as dt,L as vt,M as mt,N as ft,O as pe,P as Le,Q as K,T as ye,U as Me,X as ht,Y as Ce,Z as oe,_ as gt,$ as pt,a0 as yt,a1 as bt,a2 as De,a3 as wt,a4 as $,a5 as _t,a6 as Vt,a7 as J,a8 as St,a9 as kt,aa as Rt,ab as Tt,ac as Ct,ad as xt,ae as Et,af as Ht,ag as It,ah as Bt,ai as Pe,aj as Ne,ak as At,al as Lt,V as ee,am as de,an as xe,ao as se,ap as Mt,aq as Ee,ar as Dt,as as Pt,at as Nt,au as $t,av as zt}from"./index-CdBy1DAC.js";import{V as Ot,a as $e,b as ze,c as q,d as Oe,u as be,e as We,g as Wt,f as Ut,h as Zt}from"./injection-BTu2Ks4h.js";import{V as Yt}from"./VSelect-D4EjrY1s.js";import{m as Ue,u as Ze,a as Xt,V as ve,b as Ye,c as Ft,d as jt,_ as qt,e as Gt,f as Kt,g as Jt,S as Qt,h as ea,i as ta,j as aa}from"./VToolbarItems-C77m-ae0.js";import{V as la,R as C,a as oa,b as na,c as O}from"./dbContext-BF5vDBMi.js";import{_ as sa}from"./plugin-vueexport-helper-DlAUqK2U.js";/* empty css                                                 */import{e as ia}from"./eventBus-E5P-NQ8u.js";import{V as ra,a as ie,b as ua,c as re}from"./VTabs-DmUrWeoB.js";import"./VRow-CPz841Jz.js";import"./VSlideGroup-Bj1dRMNG.js";import"./recordCategory-CURYKHIw.js";const U={Sidebar_drawer:null,Customizer_drawer:!1,mini_sidebar:!1,setHorizontalLayout:!1,actTheme:"ORANGE_THEME",inputBg:"ORANGE_THEME",boxed:!0,setBorderCard:!1},ne=Qe({id:"customizer",state:()=>({Sidebar_drawer:U.Sidebar_drawer,Customizer_drawer:U.Customizer_drawer,mini_sidebar:U.mini_sidebar,setHorizontalLayout:U.setHorizontalLayout,actTheme:U.actTheme,inputBg:U.inputBg,boxed:U.boxed,setBorderCard:U.setBorderCard}),getters:{},actions:{SET_SIDEBAR_DRAWER(){this.Sidebar_drawer=!this.Sidebar_drawer},SET_MINI_SIDEBAR(e){this.mini_sidebar=e},SET_CUSTOMIZER_DRAWER(e){this.Customizer_drawer=e},SET_LAYOUT(e){this.setHorizontalLayout=e},SET_THEME(e){this.actTheme=e},SET_CARD_BORDER(e){this.setBorderCard=e}}}),ca=[{header:"主要功能"},{title:"紀錄",icon:et,to:"/"},{title:"帳戶管理",icon:tt,to:"/account"},{title:"記帳類別管理",icon:at,to:"/recordCategory"},{title:"設定",icon:lt,to:"/setting"}],da={class:"mini-icon"},va={class:"mini-text"},ma={__name:"index",props:{item:Object},setup(e){const n=e;return(a,i)=>{const t=me("DotsIcon");return R(),B(Ot,{class:"smallCap text-uppercase text-subtitle-2 mt-5 font-weight-semibold d-flex align-items-center"},{default:r(()=>[D("span",da,[l(t,{size:"16","stroke-width":"1.5",class:"iconClass"})]),D("span",va,Z(a.$t(n.item.header)),1)]),_:1})}}},Xe={__name:"Icon",props:{item:Object,level:Number},setup(e){return(n,a)=>e.level>0?(R(),B(Te(e.item),{key:0,size:"14","stroke-width":"1.5",class:"iconClass"})):(R(),B(Te(e.item),{key:1,size:"20","stroke-width":"1.5",class:"iconClass"}))}},Fe={__name:"index",props:{item:Object,level:Number},setup(e){return(n,a)=>{const i=ot("scroll-to");return nt((R(),B(q,{to:e.item.type==="external"?"":e.item.to,href:e.item.type==="external"?e.item.to:"",rounded:"",class:"mb-1",disabled:e.item.disabled,target:e.item.type==="external"?"_blank":""},st({prepend:r(()=>[l(Xe,{item:e.item.icon,level:e.level},null,8,["item","level"])]),default:r(()=>[l($e,null,{default:r(()=>[z(Z(n.$t(e.item.title)),1)]),_:1}),e.item.subCaption?(R(),B(ze,{key:0,class:"text-caption mt-n1 hide-menu"},{default:r(()=>[z(Z(e.item.subCaption),1)]),_:1})):ce("",!0)]),_:2},[e.item.chip?{name:"append",fn:r(()=>[l(Yt,{color:e.item.chipColor,class:ue("sidebarchip hide-menu bg-"+e.item.chipBgColor),size:(e.item.chipIcon,"small"),variant:e.item.chipVariant,"prepend-icon":e.item.chipIcon},{default:r(()=>[z(Z(e.item.chip),1)]),_:1},8,["color","class","size","variant","prepend-icon"])]),key:"0"}:void 0]),1032,["to","href","disabled","target"])),[[i,{el:"#top"}]])}}},fa={__name:"NavCollapse",props:{item:Object,level:Number},setup(e){return(n,a)=>{const i=me("NavCollapse",!0);return R(),B(Oe,{"no-action":""},{activator:r(({props:t})=>[l(q,le(t,{value:e.item.title,rounded:"",class:"mb-1"}),{prepend:r(()=>[l(Xe,{item:e.item.icon,level:e.level},null,8,["item","level"])]),default:r(()=>[l($e,{class:"mr-auto"},{default:r(()=>[z(Z(n.$t(e.item.title)),1)]),_:1}),e.item.subCaption?(R(),B(ze,{key:0,class:"text-caption mt-n1 hide-menu"},{default:r(()=>[z(Z(e.item.subCaption),1)]),_:1})):ce("",!0)]),_:2},1040,["value"])]),default:r(()=>[e.item.children?(R(!0),W(G,{key:0},Be(e.item.children,(t,s)=>(R(),W(G,{key:s},[t.children?(R(),B(i,{key:0,item:t,level:e.level+1},null,8,["item","level"])):(R(),B(Fe,{key:1,item:t,level:e.level+1},null,8,["item","level"]))],64))),128)):ce("",!0)]),_:1})}}},ha="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='106'%20height='38'%20viewBox='0%200%20106%2038'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fff;%20}%20.cls-1,%20.cls-2%20{%20fill-rule:%20evenodd;%20}%20.cls-2%20{%20fill:%20%23fb9678;%20stroke:%23fb9678;%20}%20.cls-2,%20.cls-3,%20.cls-4%20{%20stroke-width:%201px;%20}%20.cls-3%20{%20fill:%20%2303c9d7;%20stroke:%20%2303c9d7;%20}%20.cls-4%20{%20fill:%20%23fec90f;%20stroke:%20%23fec90f;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20id='Flexy'%20class='cls-1'%20d='M47.2,26.75v-7.2h6.288V17.126H47.2v-4.7H54.98V9.95H44.132v16.8H47.2Zm12.928,0V9.47H57.06V26.75h3.072Zm11.292-.24a5.5,5.5,0,0,0,1.92-1.452,5.659,5.659,0,0,0,1.116-2.052H71.34a2.6,2.6,0,0,1-.948,1.092,2.791,2.791,0,0,1-1.572.42,3.054,3.054,0,0,1-2.124-.792,3.1,3.1,0,0,1-.972-2.184h9.048q0.024-.312.036-0.6t0.012-.552a5.9,5.9,0,0,0-.756-2.964,5.518,5.518,0,0,0-2.1-2.1,6.132,6.132,0,0,0-3.1-.768,6.346,6.346,0,0,0-3.252.8,5.66,5.66,0,0,0-2.16,2.244,6.792,6.792,0,0,0-.78,3.288,6.388,6.388,0,0,0,.792,3.216,5.557,5.557,0,0,0,2.184,2.16,6.5,6.5,0,0,0,3.192.768A6.075,6.075,0,0,0,71.424,26.51Zm-0.588-8.76a2.592,2.592,0,0,1,.864,1.872H65.772a2.947,2.947,0,0,1,1.1-1.932,3.272,3.272,0,0,1,1.992-.636A2.875,2.875,0,0,1,70.836,17.75Zm8.384,9,3.024-4.224,3,4.224h3.312L84.212,20.8l4.344-5.952H85.244l-3,4.224L79.22,14.846H75.932l4.32,5.952-4.32,5.952H79.22Zm15.592,5.28,7.56-17.184H99.108l-3.48,8.376-3.336-8.376H88.956l4.632,11.112h0.72l-2.76,6.072h3.264Z'/%3e%3cpath%20id='Rounded_Rectangle_698'%20data-name='Rounded%20Rectangle%20698'%20class='cls-2'%20d='M8.723,4.086a5.9,5.9,0,0,1,5.895,5.895V28.216a5.895,5.895,0,1,1-11.79,0V9.981A5.9,5.9,0,0,1,8.723,4.086Z'/%3e%3crect%20id='Rounded_Rectangle_699'%20data-name='Rounded%20Rectangle%20699'%20class='cls-3'%20x='3'%20y='3'%20width='25'%20height='12'%20rx='6'%20ry='6'/%3e%3ccircle%20class='cls-4'%20cx='21.703'%20cy='23.969'%20r='6.328'/%3e%3c/svg%3e",ga={class:"logo"},pa=["src"],ya=Y({__name:"LogoLight",setup(e){return(n,a)=>(R(),W("div",ga,[l(v(Ae),{to:"/"},{default:r(()=>[D("img",{src:v(ha),alt:"home"},null,8,pa)]),_:1})]))}}),ba="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='106'%20height='38'%20viewBox='0%200%20106%2038'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%2311142d;%20}%20.cls-1,%20.cls-2%20{%20fill-rule:%20evenodd;%20}%20.cls-2%20{%20fill:%20%23fb9678;%20stroke:%23fb9678;%20}%20.cls-2,%20.cls-3,%20.cls-4%20{%20stroke-width:%201px;%20}%20.cls-3%20{%20fill:%20%2303c9d7;%20stroke:%20%2303c9d7;%20}%20.cls-4%20{%20fill:%20%23fec90f;%20stroke:%20%23fec90f;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20id='Flexy'%20class='cls-1'%20d='M47.2,26.75v-7.2h6.288V17.126H47.2v-4.7H54.98V9.95H44.132v16.8H47.2Zm12.928,0V9.47H57.06V26.75h3.072Zm11.292-.24a5.5,5.5,0,0,0,1.92-1.452,5.659,5.659,0,0,0,1.116-2.052H71.34a2.6,2.6,0,0,1-.948,1.092,2.791,2.791,0,0,1-1.572.42,3.054,3.054,0,0,1-2.124-.792,3.1,3.1,0,0,1-.972-2.184h9.048q0.024-.312.036-0.6t0.012-.552a5.9,5.9,0,0,0-.756-2.964,5.518,5.518,0,0,0-2.1-2.1,6.132,6.132,0,0,0-3.1-.768,6.346,6.346,0,0,0-3.252.8,5.66,5.66,0,0,0-2.16,2.244,6.792,6.792,0,0,0-.78,3.288,6.388,6.388,0,0,0,.792,3.216,5.557,5.557,0,0,0,2.184,2.16,6.5,6.5,0,0,0,3.192.768A6.075,6.075,0,0,0,71.424,26.51Zm-0.588-8.76a2.592,2.592,0,0,1,.864,1.872H65.772a2.947,2.947,0,0,1,1.1-1.932,3.272,3.272,0,0,1,1.992-.636A2.875,2.875,0,0,1,70.836,17.75Zm8.384,9,3.024-4.224,3,4.224h3.312L84.212,20.8l4.344-5.952H85.244l-3,4.224L79.22,14.846H75.932l4.32,5.952-4.32,5.952H79.22Zm15.592,5.28,7.56-17.184H99.108l-3.48,8.376-3.336-8.376H88.956l4.632,11.112h0.72l-2.76,6.072h3.264Z'/%3e%3cpath%20id='Rounded_Rectangle_698'%20data-name='Rounded%20Rectangle%20698'%20class='cls-2'%20d='M8.723,4.086a5.9,5.9,0,0,1,5.895,5.895V28.216a5.895,5.895,0,1,1-11.79,0V9.981A5.9,5.9,0,0,1,8.723,4.086Z'/%3e%3crect%20id='Rounded_Rectangle_699'%20data-name='Rounded%20Rectangle%20699'%20class='cls-3'%20x='3'%20y='3'%20width='25'%20height='12'%20rx='6'%20ry='6'/%3e%3ccircle%20class='cls-4'%20cx='21.703'%20cy='23.969'%20r='6.328'/%3e%3c/svg%3e",wa={class:"logo"},_a=["src"],Va=Y({__name:"LogoDark",setup(e){return(n,a)=>(R(),W("div",wa,[l(v(Ae),{to:"/"},{default:r(()=>[D("img",{src:v(ba),alt:"home"},null,8,_a)]),_:1})]))}}),Sa={__name:"Logo",setup(e){const n=ne(),a=_(()=>n.actTheme==="DARK_BLUE_THEME"||n.actTheme==="DARK_RED_THEME"||n.actTheme==="DARK_ORANGE_THEME"||n.actTheme==="DARK_PURPLE_THEME"||n.actTheme==="DARK_GREEN_THEME"||n.actTheme==="DARK_INDIGO_THEME");return(i,t)=>a.value?(R(),B(ya,{key:0})):(R(),B(Va,{key:1}))}};function ka(e){let{rootEl:n,isSticky:a,layoutItemStyles:i}=e;const t=P(!1),s=P(0),o=_(()=>{const y=typeof t.value=="boolean"?"top":t.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[y]:it(s.value)}:{top:i.value.top}]});fe(()=>{N(a,y=>{y?window.addEventListener("scroll",V,{passive:!0}):window.removeEventListener("scroll",V)},{immediate:!0})}),he(()=>{window.removeEventListener("scroll",V)});let u=0;function V(){const y=u>window.scrollY?"up":"down",h=n.value.getBoundingClientRect(),g=parseFloat(i.value.top??0),S=window.scrollY-Math.max(0,s.value-g),b=h.height+Math.max(s.value,g)-window.scrollY-window.innerHeight,f=parseFloat(getComputedStyle(n.value).getPropertyValue("--v-body-scroll-y"))||0;h.height<window.innerHeight-g?(t.value="top",s.value=g):y==="up"&&t.value==="bottom"||y==="down"&&t.value==="top"?(s.value=window.scrollY+h.top-f,t.value=!0):y==="down"&&b<=0?(s.value=0,t.value="bottom"):y==="up"&&S<=0&&(f?t.value!=="top"&&(s.value=-S+f+g,t.value="top"):(s.value=h.top+S,t.value="top")),u=window.scrollY}return{isStuck:t,stickyStyles:o}}const Ra=100,Ta=20;function He(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function Ie(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let n=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const i=He(n),t=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);n+=(t-i)*Math.abs(t),a===e.length-1&&(n*=.5)}return He(n)*1e3}function Ca(){const e={};function n(t){Array.from(t.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new rt(Ta))).push([t.timeStamp,s])})}function a(t){Array.from(t.changedTouches).forEach(s=>{delete e[s.identifier]})}function i(t){var y;const s=(y=e[t])==null?void 0:y.values().reverse();if(!s)throw new Error(`No samples for touch id ${t}`);const o=s[0],u=[],V=[];for(const h of s){if(o[0]-h[0]>Ra)break;u.push({t:h[0],d:h[1].clientX}),V.push({t:h[0],d:h[1].clientY})}return{x:Ie(u),y:Ie(V),get direction(){const{x:h,y:g}=this,[S,b]=[Math.abs(h),Math.abs(g)];return S>b&&h>=0?"right":S>b&&h<=0?"left":b>S&&g>=0?"down":b>S&&g<=0?"up":xa()}}}return{addMovement:n,endTouch:a,getVelocity:i}}function xa(){throw new Error}function Ea(e){let{el:n,isActive:a,isTemporary:i,width:t,touchless:s,position:o}=e;fe(()=>{window.addEventListener("touchstart",m,{passive:!0}),window.addEventListener("touchmove",L,{passive:!1}),window.addEventListener("touchend",H,{passive:!0})}),he(()=>{window.removeEventListener("touchstart",m),window.removeEventListener("touchmove",L),window.removeEventListener("touchend",H)});const u=_(()=>["left","right"].includes(o.value)),{addMovement:V,endTouch:y,getVelocity:h}=Ca();let g=!1;const S=P(!1),b=P(0),f=P(0);let p;function x(c,w){return(o.value==="left"?c:o.value==="right"?document.documentElement.clientWidth-c:o.value==="top"?c:o.value==="bottom"?document.documentElement.clientHeight-c:j())-(w?t.value:0)}function A(c){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const k=o.value==="left"?(c-f.value)/t.value:o.value==="right"?(document.documentElement.clientWidth-c-f.value)/t.value:o.value==="top"?(c-f.value)/t.value:o.value==="bottom"?(document.documentElement.clientHeight-c-f.value)/t.value:j();return w?Math.max(0,Math.min(1,k)):k}function m(c){if(s.value)return;const w=c.changedTouches[0].clientX,k=c.changedTouches[0].clientY,T=25,I=o.value==="left"?w<T:o.value==="right"?w>document.documentElement.clientWidth-T:o.value==="top"?k<T:o.value==="bottom"?k>document.documentElement.clientHeight-T:j(),E=a.value&&(o.value==="left"?w<t.value:o.value==="right"?w>document.documentElement.clientWidth-t.value:o.value==="top"?k<t.value:o.value==="bottom"?k>document.documentElement.clientHeight-t.value:j());(I||E||a.value&&i.value)&&(p=[w,k],f.value=x(u.value?w:k,a.value),b.value=A(u.value?w:k),g=f.value>-20&&f.value<80,y(c),V(c))}function L(c){const w=c.changedTouches[0].clientX,k=c.changedTouches[0].clientY;if(g){if(!c.cancelable){g=!1;return}const I=Math.abs(w-p[0]),E=Math.abs(k-p[1]);(u.value?I>E&&I>3:E>I&&E>3)?(S.value=!0,g=!1):(u.value?E:I)>3&&(g=!1)}if(!S.value)return;c.preventDefault(),V(c);const T=A(u.value?w:k,!1);b.value=Math.max(0,Math.min(1,T)),T>1?f.value=x(u.value?w:k,!0):T<0&&(f.value=x(u.value?w:k,!1))}function H(c){if(g=!1,!S.value)return;V(c),S.value=!1;const w=h(c.changedTouches[0].identifier),k=Math.abs(w.x),T=Math.abs(w.y);(u.value?k>T&&k>400:T>k&&T>3)?a.value=w.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||j()):a.value=b.value>.5}const d=_(()=>S.value?{transform:o.value==="left"?`translateX(calc(-100% + ${b.value*t.value}px))`:o.value==="right"?`translateX(calc(100% - ${b.value*t.value}px))`:o.value==="top"?`translateY(calc(-100% + ${b.value*t.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${b.value*t.value}px))`:j(),transition:"none"}:void 0);return Q(S,()=>{var k,T;const c=((k=n.value)==null?void 0:k.style.transform)??null,w=((T=n.value)==null?void 0:T.style.transition)??null;ge(()=>{var I,E,F,ae;(E=n.value)==null||E.style.setProperty("transform",((I=d.value)==null?void 0:I.transform)||"none"),(ae=n.value)==null||ae.style.setProperty("transition",((F=d.value)==null?void 0:F.transition)||null)}),ut(()=>{var I,E;(I=n.value)==null||I.style.setProperty("transform",c),(E=n.value)==null||E.style.setProperty("transition",w)})}),{isDragging:S,dragProgress:b,dragStyles:d}}function j(){throw new Error}const Ha=["start","end","left","right","top","bottom"],Ia=X({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Ha.includes(e)},sticky:Boolean,...ct(),...te(),...dt(),...vt({mobile:null}),...mt(),...Ue(),...ft(),...pe({tag:"nav"}),...Le()},"VNavigationDrawer"),je=K()({name:"VNavigationDrawer",props:Ia(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,n){let{attrs:a,emit:i,slots:t}=n;const{isRtl:s}=ye(),{themeClasses:o}=Me(e),{borderClasses:u}=ht(e),{backgroundColorClasses:V,backgroundColorStyles:y}=Ce(oe(e,"color")),{elevationClasses:h}=gt(e),{displayClasses:g,mobile:S}=pt(e),{roundedClasses:b}=yt(e),f=bt(),p=De(e,"modelValue",null,M=>!!M),{ssrBootStyles:x}=be(),{scopeId:A}=wt(),m=$(),L=P(!1),{runOpenDelay:H,runCloseDelay:d}=Rt(e,M=>{L.value=M}),c=_(()=>e.rail&&e.expandOnHover&&L.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),w=_(()=>_t(e.location,s.value)),k=_(()=>e.persistent),T=_(()=>!e.permanent&&(S.value||e.temporary)),I=_(()=>e.sticky&&!T.value&&w.value!=="bottom");Q(()=>e.expandOnHover&&e.rail!=null,()=>{N(L,M=>i("update:rail",!M))}),Q(()=>!e.disableResizeWatcher,()=>{N(T,M=>!e.permanent&&Tt(()=>p.value=!M))}),Q(()=>!e.disableRouteWatcher&&!!f,()=>{N(f.currentRoute,()=>T.value&&(p.value=!1))}),N(()=>e.permanent,M=>{M&&(p.value=!0)}),e.modelValue==null&&!T.value&&(p.value=e.permanent||!S.value);const{isDragging:E,dragProgress:F}=Ea({el:m,isActive:p,isTemporary:T,width:c,touchless:oe(e,"touchless"),position:w}),ae=_(()=>{const M=T.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):c.value;return E.value?M*F.value:M}),qe=_(()=>["top","bottom"].includes(e.location)?0:c.value),{layoutItemStyles:we,layoutItemScrimStyles:Ge}=Ze({id:e.name,order:_(()=>parseInt(e.order,10)),position:w,layoutSize:ae,elementSize:qe,active:_(()=>p.value||E.value),disableTransitions:_(()=>E.value),absolute:_(()=>e.absolute||I.value&&typeof _e.value!="string")}),{isStuck:_e,stickyStyles:Ke}=ka({rootEl:m,isSticky:I,layoutItemStyles:we}),Ve=Ce(_(()=>typeof e.scrim=="string"?e.scrim:null)),Je=_(()=>({...E.value?{opacity:F.value*.2,transition:"none"}:void 0,...Ge.value}));return Vt({VList:{bgColor:"transparent"}}),J(()=>{const M=t.image||e.image;return l(G,null,[l(e.tag,le({ref:m,onMouseenter:H,onMouseleave:d,class:["v-navigation-drawer",`v-navigation-drawer--${w.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":L.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":T.value,"v-navigation-drawer--persistent":k.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":I.value},o.value,V.value,u.value,g.value,h.value,b.value,e.class],style:[y.value,we.value,x.value,Ke.value,e.style,["top","bottom"].includes(w.value)?{height:"auto"}:{}]},A,a),{default:()=>{var Se,ke,Re;return[M&&l("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?l(St,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):l(la,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&l("div",{class:"v-navigation-drawer__prepend"},[(Se=t.prepend)==null?void 0:Se.call(t)]),l("div",{class:"v-navigation-drawer__content"},[(ke=t.default)==null?void 0:ke.call(t)]),t.append&&l("div",{class:"v-navigation-drawer__append"},[(Re=t.append)==null?void 0:Re.call(t)])]}}),l(kt,{name:"fade-transition"},{default:()=>[T.value&&(E.value||p.value)&&!!e.scrim&&l("div",le({class:["v-navigation-drawer__scrim",Ve.backgroundColorClasses.value],style:[Je.value,Ve.backgroundColorStyles.value],onClick:()=>{k.value||(p.value=!1)}},A),null)]})])}),{isStuck:_e}}}),Ba={class:"pa-5 pl-4"},Aa=Y({__name:"VerticalSidebar",setup(e){const n=ne(),a=P(ca);return(i,t)=>{const s=me("perfect-scrollbar");return R(),B(je,{left:"",modelValue:v(n).Sidebar_drawer,"onUpdate:modelValue":t[0]||(t[0]=o=>v(n).Sidebar_drawer=o),elevation:"0","rail-width":"75",app:"",class:"leftSidebar",rail:v(n).mini_sidebar,"expand-on-hover":"",width:"256"},{default:r(()=>[D("div",Ba,[l(Sa)]),l(s,{class:"scrollnavbar"},{default:r(()=>[l(We,{class:"py-6 px-4"},{default:r(()=>[(R(!0),W(G,null,Be(a.value,(o,u)=>(R(),W(G,null,[o.header?(R(),B(ma,{item:o,key:o.title},null,8,["item"])):o.children?(R(),B(fa,{key:1,class:"leftPadding",item:o,level:0},null,8,["item"])):(R(),B(Fe,{key:2,item:o,class:"leftPadding"},null,8,["item"]))],64))),256))]),_:1})]),_:1})]),_:1},8,["modelValue","rail"])}}}),La={class:"pt-6"},Ma=Y({__name:"RightMobileSidebar",setup(e){const n=$(["Apps"]);return(a,i)=>(R(),W("div",La,[i[5]||(i[5]=D("h5",{class:"text-h5 mb-4 px-5"},"Navigation",-1)),l(We,{opened:n.value,"onUpdate:opened":i[0]||(i[0]=t=>n.value=t),class:"right-sidebar"},{default:r(()=>[l(Oe,{value:"Apps"},{activator:r(({props:t})=>[l(q,Ct(xt(t)),{prepend:r(()=>[l(v(Et),{width:"21","stroke-width":"1.5"})]),default:r(()=>[i[1]||(i[1]=D("h5",{class:"text-subtitle-1 ml-2"},"Apps",-1))]),_:2},1040)]),_:1}),l(q,null,{prepend:r(()=>[l(v(Ht),{width:"21","stroke-width":"1.5"})]),default:r(()=>[i[2]||(i[2]=D("h5",{class:"text-subtitle-1 ml-2"},"Chats",-1))]),_:1}),l(q,null,{prepend:r(()=>[l(v(It),{width:"21","stroke-width":"1.5"})]),default:r(()=>[i[3]||(i[3]=D("h5",{class:"text-subtitle-1 ml-2"},"Calendar",-1))]),_:1}),l(q,null,{prepend:r(()=>[l(v(Bt),{width:"21","stroke-width":"1.5"})]),default:r(()=>[i[4]||(i[4]=D("h5",{class:"text-subtitle-1 ml-2"},"Mail",-1))]),_:1})]),_:1},8,["opened"])]))}}),Da=sa(Ma,[["__scopeId","data-v-b1753427"]]),Pa=X({fluid:{type:Boolean,default:!1},...te(),...Pe(),...pe()},"VContainer"),Na=K()({name:"VContainer",props:Pa(),setup(e,n){let{slots:a}=n;const{rtlClasses:i}=ye(),{dimensionStyles:t}=Ne(e);return J(()=>l(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},i.value,e.class],style:[t.value,e.style]},a)),{}}}),$a=X({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function za(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=n;let i=0,t=0;const s=$(null),o=P(0),u=P(0),V=P(0),y=P(!1),h=P(!1),g=_(()=>Number(e.scrollThreshold)),S=_(()=>At((g.value-o.value)/g.value||0)),b=()=>{const f=s.value;if(!f||a&&!a.value)return;i=o.value,o.value="window"in f?f.pageYOffset:f.scrollTop;const p=f instanceof Window?document.documentElement.scrollHeight:f.scrollHeight;if(t!==p){t=p;return}h.value=o.value<i,V.value=Math.abs(o.value-g.value)};return N(h,()=>{u.value=u.value||o.value}),N(y,()=>{u.value=0}),fe(()=>{N(()=>e.scrollTarget,f=>{var x;const p=f?document.querySelector(f):window;p&&p!==s.value&&((x=s.value)==null||x.removeEventListener("scroll",b),s.value=p,s.value.addEventListener("scroll",b,{passive:!0}))},{immediate:!0})}),he(()=>{var f;(f=s.value)==null||f.removeEventListener("scroll",b)}),a&&N(a,b,{immediate:!0}),{scrollThreshold:g,currentScroll:o,currentThreshold:V,isScrollActive:y,scrollRatio:S,isScrollingUp:h,savedScroll:u}}const Oa=X({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Xt(),...Ue(),...$a(),height:{type:[Number,String],default:64}},"VAppBar"),Wa=K()({name:"VAppBar",props:Oa(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:a}=n;const i=$(),t=De(e,"modelValue"),s=_(()=>{var L;const m=new Set(((L=e.scrollBehavior)==null?void 0:L.split(" "))??[]);return{hide:m.has("hide"),fullyHide:m.has("fully-hide"),inverted:m.has("inverted"),collapse:m.has("collapse"),elevate:m.has("elevate"),fadeImage:m.has("fade-image")}}),o=_(()=>{const m=s.value;return m.hide||m.fullyHide||m.inverted||m.collapse||m.elevate||m.fadeImage||!t.value}),{currentScroll:u,scrollThreshold:V,isScrollingUp:y,scrollRatio:h}=za(e,{canScroll:o}),g=_(()=>s.value.hide||s.value.fullyHide),S=_(()=>e.collapse||s.value.collapse&&(s.value.inverted?h.value>0:h.value===0)),b=_(()=>e.flat||s.value.fullyHide&&!t.value||s.value.elevate&&(s.value.inverted?u.value>0:u.value===0)),f=_(()=>s.value.fadeImage?s.value.inverted?1-h.value:h.value:void 0),p=_(()=>{var H,d;if(s.value.hide&&s.value.inverted)return 0;const m=((H=i.value)==null?void 0:H.contentHeight)??0,L=((d=i.value)==null?void 0:d.extensionHeight)??0;return g.value?u.value<V.value||s.value.fullyHide?m+L:m:m+L});Q(_(()=>!!e.scrollBehavior),()=>{ge(()=>{g.value?s.value.inverted?t.value=u.value>V.value:t.value=y.value||u.value<V.value:t.value=!0})});const{ssrBootStyles:x}=be(),{layoutItemStyles:A}=Ze({id:e.name,order:_(()=>parseInt(e.order,10)),position:oe(e,"location"),layoutSize:p,elementSize:P(void 0),active:t,absolute:oe(e,"absolute")});return J(()=>{const m=ve.filterProps(e);return l(ve,le({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...A.value,"--v-toolbar-image-opacity":f.value,height:void 0,...x.value},e.style]},m,{collapse:S.value,flat:b.value}),a)}),{}}}),Ua={class:"h3 ms-2"},Za=Y({__name:"VerticalHeader",setup(e){const n=Lt(),a=ne();$(!1);const i=$(!1),t=$((a.setHorizontalLayout,0));return N(t,s=>{t.value=s}),(s,o)=>(R(),W(G,null,[l(Wa,{elevation:"0",priority:t.value,height:"64",color:"background",id:"top"},{default:r(()=>[l(ee,{class:"hidden-md-and-down",icon:"",color:"primary",variant:"text",onClick:o[0]||(o[0]=de(u=>v(a).SET_MINI_SIDEBAR(!v(a).mini_sidebar),["stop"]))},{default:r(()=>[l(v(xe),{size:"25"})]),_:1}),l(ee,{class:"hidden-lg-and-up",icon:"",variant:"text",onClick:de(v(a).SET_SIDEBAR_DRAWER,["stop"]),size:"small"},{default:r(()=>[l(v(xe),{size:"25"})]),_:1},8,["onClick"]),D("h1",Ua,Z(v(n).name),1),l(Ye)]),_:1},8,["priority"]),l(je,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=u=>i.value=u),location:"right",temporary:""},{default:r(()=>[l(Da)]),_:1},8,["modelValue"])],64))}}),Ya={class:"text-center"},Xa={class:"w-100 mt-auto"},Fa=Y({__name:"NewRecordDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","submit"],async setup(e,{emit:n}){let a,i;const t=e,s=Wt(),o=([a,i]=se(()=>s.getAllAsync()),a=await a,i(),a),u=o.length>=1?o[0].id:void 0,V=o.length>=2?o[1].id:u,y=Ut(),h=([a,i]=se(()=>y.getByTypeAsync(C.Spend)),a=await a,i(),a),g=h.length>=1?h[0].id:void 0,S=([a,i]=se(()=>y.getByTypeAsync(C.Income)),a=await a,i(),a),b=S.length>=1?S[0].id:void 0;N(()=>t.modelValue,()=>{t.modelValue&&(p.value=O.getNewSpendRecord(g,u),x.value=O.getNewIncomeRecord(b,u),A.value=O.getNewTransferRecord(u,V),m.value=C.Spend)});const f=n,p=$(O.getNewSpendRecord(g,u)),x=$(O.getNewIncomeRecord(b,u)),A=$(O.getNewTransferRecord(u,V)),m=$(C.Spend);N(m,(H,d)=>{let c=0;switch(d){case C.Spend:c=p.value.amount;break;case C.Income:c=x.value.amount;break;case C.Transfer:c=A.value.amount;break}switch(H){case C.Spend:p.value=O.getNewSpendRecord(g,u),p.value.amount=c;break;case C.Income:x.value=O.getNewIncomeRecord(b,u),x.value.amount=c;break;case C.Transfer:A.value=O.getNewTransferRecord(u,V),A.value.amount=c;break}});async function L(){let H;switch(m.value){case C.Spend:H=p.value;break;case C.Income:H=x.value;break;case C.Transfer:H=A.value;break}var d=Zt();await d.addAsync(Ee(H)),await new Qt().onNewRecordAddedAsync(Ee(H)),f("update:modelValue",!1),ia.emit("any-record-change"),await Dt.push("/")}return(H,d)=>(R(),W("div",Ya,[l(Jt,{modelValue:t.modelValue,"onUpdate:modelValue":d[6]||(d[6]=c=>t.modelValue=c),fullscreen:"",transition:"dialog-bottom-transition"},{default:r(()=>[l(oa,{rounded:!1},{default:r(()=>[l(ve,{dark:"",color:"primary",style:{flex:"unset"}},{default:r(()=>[l(ee,{icon:"",color:"inherit",onClick:d[0]||(d[0]=c=>H.$emit("update:modelValue",!1)),flat:""},{default:r(()=>[l(v(Mt),{width:"20"})]),_:1}),l(Ft,null,{default:r(()=>d[7]||(d[7]=[z("新增記帳")])),_:1}),l(Ye),l(jt)]),_:1}),l(ra,{"fixed-tabs":"",modelValue:m.value,"onUpdate:modelValue":d[1]||(d[1]=c=>m.value=c),class:"w-100",color:"primary"},{default:r(()=>[l(ie,{value:v(C).Spend},{default:r(()=>d[8]||(d[8]=[z("支出")])),_:1},8,["value"]),l(ie,{value:v(C).Income},{default:r(()=>d[9]||(d[9]=[z("收入")])),_:1},8,["value"]),l(ie,{value:v(C).Transfer},{default:r(()=>d[10]||(d[10]=[z("帳戶互轉")])),_:1},8,["value"])]),_:1},8,["modelValue"]),l(na,null,{default:r(()=>[l(ua,{modelValue:m.value,"onUpdate:modelValue":d[5]||(d[5]=c=>m.value=c)},{default:r(()=>[l(re,{value:v(C).Spend},{default:r(()=>[l(qt,{accounts:v(o),modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=c=>p.value=c)},null,8,["accounts","modelValue"])]),_:1},8,["value"]),l(re,{value:v(C).Income},{default:r(()=>[l(Gt,{accounts:v(o),modelValue:x.value,"onUpdate:modelValue":d[3]||(d[3]=c=>x.value=c)},null,8,["accounts","modelValue"])]),_:1},8,["value"]),l(re,{value:v(C).Transfer},{default:r(()=>[l(Kt,{accounts:v(o),modelValue:A.value,"onUpdate:modelValue":d[4]||(d[4]=c=>A.value=c)},null,8,["accounts","modelValue"])]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1}),D("div",Xa,[l(ee,{color:"primary rounded-0",class:"w-100 h-100 py-4",onClick:L},{default:r(()=>d[11]||(d[11]=[z("儲存")])),_:1})])]),_:1})]),_:1},8,["modelValue"])]))}}),ja=X({...te(),...ea({fullHeight:!0}),...Le()},"VApp"),qa=K()({name:"VApp",props:ja(),setup(e,n){let{slots:a}=n;const i=Me(e),{layoutClasses:t,getLayoutItem:s,items:o,layoutRef:u}=ta(e),{rtlClasses:V}=ye();return J(()=>{var y;return l("div",{ref:u,class:["v-application",i.themeClasses.value,t.value,V.value,e.class],style:[e.style]},[l("div",{class:"v-application__wrap"},[(y=a.default)==null?void 0:y.call(a)])])}),{getLayoutItem:s,items:o,theme:i}}}),Ga=X({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...te()},"VLocaleProvider"),Ka=K()({name:"VLocaleProvider",props:Ga(),setup(e,n){let{slots:a}=n;const{rtlClasses:i}=Pt(e);return J(()=>{var t;return l("div",{class:["v-locale-provider",i.value,e.class],style:e.style},[(t=a.default)==null?void 0:t.call(a)])}),{}}}),Ja=X({scrollable:Boolean,...te(),...Pe(),...pe({tag:"main"})},"VMain"),Qa=K()({name:"VMain",props:Ja(),setup(e,n){let{slots:a}=n;const{dimensionStyles:i}=Ne(e),{mainStyles:t}=aa(),{ssrBootStyles:s}=be();return J(()=>l(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[t.value,s.value,i.value,e.style]},{default:()=>{var o,u;return[e.scrollable?l("div",{class:"v-main__scroller"},[(o=a.default)==null?void 0:o.call(a)]):(u=a.default)==null?void 0:u.call(a)]}})),{}}}),vl=Y({__name:"FullLayout",setup(e){const n=ne(),a=$(!1),i=Nt();ge(s=>{const o=i.beforeEach((u,V,y)=>{if(a.value)return a.value=!1,y(!1);y()});s(()=>o())});function t(){a.value=!0}return(s,o)=>(R(),B(Ka,null,{default:r(()=>[l(qa,{theme:v(n).actTheme,class:ue([v(n).actTheme,v(n).mini_sidebar?"mini-sidebar":"",v(n).setHorizontalLayout?"horizontalLayout":"verticalLayout",v(n).setBorderCard?"cardBordered":"",v(n).inputBg?"inputWithbg":""])},{default:r(()=>[l(Aa),l(Za),l(Fa,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=u=>a.value=u)},null,8,["modelValue"]),l(Qa,null,{default:r(()=>[l(Na,{fluid:"",class:"page-wrapper px-0 pb-sm-15 pb-10 pt-0"},{default:r(()=>[D("div",{class:ue(v(n).boxed?"maxWidth":"")},[l(v($t)),l(ee,{class:"customizer-btn",size:"large",icon:"",variant:"flat",color:"primary",onClick:o[1]||(o[1]=de(u=>t(),["stop"]))},{default:r(()=>[l(v(zt))]),_:1})],2)]),_:1})]),_:1})]),_:1},8,["theme","class"])]),_:1}))}});export{vl as default};
