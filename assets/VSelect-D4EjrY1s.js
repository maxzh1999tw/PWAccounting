import{Q as z,b as r,m as B,a9 as xe,H as R,bg as se,bs as st,bh as Ae,bt as ut,bu as rt,bv as ct,bw as Ue,J as ae,bx as dt,O as Ge,P as Ve,az as ze,U as qe,bj as vt,a6 as Ke,Z as E,a7 as X,aZ as le,a$ as Te,I as ft,bp as Ne,M as mt,bk as ht,N as yt,by as gt,bz as bt,bA as je,b6 as Xe,X as pt,aD as Vt,bq as Ye,_ as kt,a0 as Ct,bB as St,a2 as Z,bm as wt,bC as Pt,s as k,i as ye,h as We,aH as It,bD as xt,bb as te,a8 as oe,bo as At,F as J,aA as ke,aB as Tt,a3 as Et,T as Bt,aN as Ce,a4 as j,aE as Je,bE as Ee,v as G,aP as Qe,bF as Dt,A as Ft,aQ as Rt,z as Q,aG as Be,aJ as Se,ab as ce,aY as De,bG as Lt,bH as fe,bI as Ot,bJ as _t,G as we,bK as Mt,b9 as $t,b1 as re,bf as Ht,Y as Ut,bL as ge,aT as Ze,$ as Gt,E as Fe,ak as me,bM as zt,aX as be,ai as qt,aO as Kt,aj as Nt,D as jt,y as Xt,bN as Yt,x as ue,bO as Wt,bP as Jt,bQ as Qt,ba as Re,bR as Zt,d as el,bS as Le}from"./index-CdBy1DAC.js";import{m as tl,l as ll,e as al,c as Oe}from"./injection-BTu2Ks4h.js";import{f as pe}from"./dbContext-BF5vDBMi.js";import{m as nl,V as _e}from"./VSlideGroup-Bj1dRMNG.js";const ol=R({target:[Object,Array]},"v-dialog-transition"),et=z()({name:"VDialogTransition",props:ol(),setup(e,c){let{slots:n}=c;const i={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,v){var f;await new Promise(g=>requestAnimationFrame(g)),await new Promise(g=>requestAnimationFrame(g)),t.style.visibility="";const{x:d,y:s,sx:a,sy:u,speed:y}=$e(e.target,t),P=se(t,[{transform:`translate(${d}px, ${s}px) scale(${a}, ${u})`,opacity:0},{}],{duration:225*y,easing:st});(f=Me(t))==null||f.forEach(g=>{se(g,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*y,easing:Ae})}),P.finished.then(()=>v())},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,v){var f;await new Promise(g=>requestAnimationFrame(g));const{x:d,y:s,sx:a,sy:u,speed:y}=$e(e.target,t);se(t,[{},{transform:`translate(${d}px, ${s}px) scale(${a}, ${u})`,opacity:0}],{duration:125*y,easing:ut}).finished.then(()=>v()),(f=Me(t))==null||f.forEach(g=>{se(g,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*y,easing:Ae})})},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>e.target?r(xe,B({name:"dialog-transition"},i,{css:!1}),n):r(xe,{name:"dialog-transition"},n)}});function Me(e){var n;const c=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return c&&[...c]}function $e(e,c){const n=rt(e),i=ct(c),[t,v]=getComputedStyle(c).transformOrigin.split(" ").map(h=>parseFloat(h)),[d,s]=getComputedStyle(c).getPropertyValue("--v-overlay-anchor-origin").split(" ");let a=n.left+n.width/2;d==="left"||s==="left"?a-=n.width/2:(d==="right"||s==="right")&&(a+=n.width/2);let u=n.top+n.height/2;d==="top"||s==="top"?u-=n.height/2:(d==="bottom"||s==="bottom")&&(u+=n.height/2);const y=n.width/i.width,P=n.height/i.height,f=Math.max(1,y,P),g=y/f||0,w=P/f||0,C=i.width*i.height/(window.innerWidth*window.innerHeight),l=C>.12?Math.min(1.5,(C-.12)*10+1):1;return{x:a-(t+i.left),y:u-(v+i.top),sx:g,sy:w,speed:l}}const tt=Symbol.for("vuetify:v-chip-group"),il=R({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ue},...nl(),...ae(),...dt({selectedClass:"v-chip--selected"}),...Ge(),...Ve(),...ze({variant:"tonal"})},"VChipGroup");z()({name:"VChipGroup",props:il(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:n}=c;const{themeClasses:i}=qe(e),{isSelected:t,select:v,next:d,prev:s,selected:a}=vt(e,tt);return Ke({VChip:{color:E(e,"color"),disabled:E(e,"disabled"),filter:E(e,"filter"),variant:E(e,"variant")}}),X(()=>{const u=_e.filterProps(e);return r(_e,B(u,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value,e.class],style:e.style}),{default:()=>{var y;return[(y=n.default)==null?void 0:y.call(n,{isSelected:t,select:v,next:d,prev:s,selected:a.value})]}})}),{}}});const sl=R({activeClass:String,appendAvatar:String,appendIcon:le,closable:Boolean,closeIcon:{type:le,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:le,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Te(),onClickOnce:Te(),...ft(),...ae(),...Ne(),...mt(),...ht(),...yt(),...gt(),...bt(),...Ge({tag:"span"}),...Ve(),...ze({variant:"tonal"})},"VChip"),ul=z()({name:"VChip",directives:{Ripple:je},props:sl(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,c){let{attrs:n,emit:i,slots:t}=c;const{t:v}=Xe(),{borderClasses:d}=pt(e),{colorClasses:s,colorStyles:a,variantClasses:u}=Vt(e),{densityClasses:y}=Ye(e),{elevationClasses:P}=kt(e),{roundedClasses:f}=Ct(e),{sizeClasses:g}=St(e),{themeClasses:w}=qe(e),C=Z(e,"modelValue"),l=wt(e,tt,!1),h=Pt(e,n),p=k(()=>e.link!==!1&&h.isLink.value),S=k(()=>!e.disabled&&e.link!==!1&&(!!l||e.link||h.isClickable.value)),x=k(()=>({"aria-label":v(e.closeLabel),onClick(b){b.preventDefault(),b.stopPropagation(),C.value=!1,i("click:close",b)}}));function D(b){var O;i("click",b),S.value&&((O=h.navigate)==null||O.call(h,b),l==null||l.toggle())}function N(b){(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),D(b))}return()=>{const b=h.isLink.value?"a":e.tag,O=!!(e.appendIcon||e.appendAvatar),q=!!(O||t.append),_=!!(t.close||e.closable),$=!!(t.filter||e.filter)&&l,K=!!(e.prependIcon||e.prependAvatar),Y=!!(K||t.prepend),ee=!l||l.isSelected.value;return C.value&&ye(r(b,B({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":S.value,"v-chip--filter":$,"v-chip--pill":e.pill},w.value,d.value,ee?s.value:void 0,y.value,P.value,f.value,g.value,u.value,l==null?void 0:l.selectedClass.value,e.class],style:[ee?a.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:S.value?0:void 0,onClick:D,onKeydown:S.value&&!p.value&&N},h.linkProps),{default:()=>{var M;return[It(S.value,"v-chip"),$&&r(xt,{key:"filter"},{default:()=>[ye(r("div",{class:"v-chip__filter"},[t.filter?r(oe,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},t.filter):r(te,{key:"filter-icon",icon:e.filterIcon},null)]),[[At,l.isSelected.value]])]}),Y&&r("div",{key:"prepend",class:"v-chip__prepend"},[t.prepend?r(oe,{key:"prepend-defaults",disabled:!K,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},t.prepend):r(J,null,[e.prependIcon&&r(te,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&r(pe,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),r("div",{class:"v-chip__content","data-no-activator":""},[((M=t.default)==null?void 0:M.call(t,{isSelected:l==null?void 0:l.isSelected.value,selectedClass:l==null?void 0:l.selectedClass.value,select:l==null?void 0:l.select,toggle:l==null?void 0:l.toggle,value:l==null?void 0:l.value.value,disabled:e.disabled}))??e.text]),q&&r("div",{key:"append",class:"v-chip__append"},[t.append?r(oe,{key:"append-defaults",disabled:!O,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},t.append):r(J,null,[e.appendIcon&&r(te,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&r(pe,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),_&&r("button",B({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},x.value),[t.close?r(oe,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},t.close):r(te,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[We("ripple"),S.value&&e.ripple,null]])}}}),rl=R({id:String,submenu:Boolean,...ke(Tt({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:et}}),["absolute"])},"VMenu"),cl=z()({name:"VMenu",props:rl(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:n}=c;const i=Z(e,"modelValue"),{scopeId:t}=Et(),{isRtl:v}=Bt(),d=Ce(),s=k(()=>e.id||`v-menu-${d}`),a=j(),u=Je(Ee,null),y=G(new Set);Qe(Ee,{register(){y.value.add(d)},unregister(){y.value.delete(d)},closeParents(l){setTimeout(()=>{var h;!y.value.size&&!e.persistent&&(l==null||(h=a.value)!=null&&h.contentEl&&!Dt(l,a.value.contentEl))&&(i.value=!1,u==null||u.closeParents())},40)}}),Ft(()=>u==null?void 0:u.unregister()),Rt(()=>i.value=!1);async function P(l){var S,x,D;const h=l.relatedTarget,p=l.target;await ce(),i.value&&h!==p&&((S=a.value)!=null&&S.contentEl)&&((x=a.value)!=null&&x.globalTop)&&![document,a.value.contentEl].includes(p)&&!a.value.contentEl.contains(p)&&((D=De(a.value.contentEl)[0])==null||D.focus())}Q(i,l=>{l?(u==null||u.register(),document.addEventListener("focusin",P,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",P))});function f(l){u==null||u.closeParents(l)}function g(l){var h,p,S,x,D;if(!e.disabled)if(l.key==="Tab"||l.key==="Enter"&&!e.closeOnContentClick){if(l.key==="Enter"&&(l.target instanceof HTMLTextAreaElement||l.target instanceof HTMLInputElement&&l.target.closest("form")))return;l.key==="Enter"&&l.preventDefault(),Lt(De((h=a.value)==null?void 0:h.contentEl,!1),l.shiftKey?"prev":"next",b=>b.tabIndex>=0)||(i.value=!1,(S=(p=a.value)==null?void 0:p.activatorEl)==null||S.focus())}else e.submenu&&l.key===(v.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(D=(x=a.value)==null?void 0:x.activatorEl)==null||D.focus())}function w(l){var p;if(e.disabled)return;const h=(p=a.value)==null?void 0:p.contentEl;h&&i.value?l.key==="ArrowDown"?(l.preventDefault(),l.stopImmediatePropagation(),fe(h,"next")):l.key==="ArrowUp"?(l.preventDefault(),l.stopImmediatePropagation(),fe(h,"prev")):e.submenu&&(l.key===(v.value?"ArrowRight":"ArrowLeft")?i.value=!1:l.key===(v.value?"ArrowLeft":"ArrowRight")&&(l.preventDefault(),fe(h,"first"))):(e.submenu?l.key===(v.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(l.key))&&(i.value=!0,l.preventDefault(),setTimeout(()=>setTimeout(()=>w(l))))}const C=k(()=>B({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":s.value,onKeydown:w},e.activatorProps));return X(()=>{const l=Be.filterProps(e);return r(Be,B({ref:a,id:s.value,class:["v-menu",e.class],style:e.style},l,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,absolute:!0,activatorProps:C.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":f,onKeydown:g},t),{activator:n.activator,default:function(){for(var h=arguments.length,p=new Array(h),S=0;S<h;S++)p[S]=arguments[S];return r(oe,{root:"VMenu"},{default:()=>{var x;return[(x=n.default)==null?void 0:x.call(n,...p)]}})}})}),Se({id:s,ΨopenChildren:y},a)}}),dl=R({...ae(),...Ot()},"VForm"),Dl=z()({name:"VForm",props:dl(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,c){let{slots:n,emit:i}=c;const t=_t(e),v=j();function d(a){a.preventDefault(),t.reset()}function s(a){const u=a,y=t.validate();u.then=y.then.bind(y),u.catch=y.catch.bind(y),u.finally=y.finally.bind(y),i("submit",u),u.defaultPrevented||y.then(P=>{var g;let{valid:f}=P;f&&((g=v.value)==null||g.submit())}),u.preventDefault()}return X(()=>{var a;return r("form",{ref:v,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:d,onSubmit:s},[(a=n.default)==null?void 0:a.call(n,t)])}),Se(t,v)}}),lt=Symbol.for("vuetify:selection-control-group"),at=R({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:le,trueIcon:le,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Ue},...ae(),...Ne(),...Ve()},"SelectionControlGroup"),vl=R({...at({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");z()({name:"VSelectionControlGroup",props:vl(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:n}=c;const i=Z(e,"modelValue"),t=Ce(),v=k(()=>e.id||`v-selection-control-group-${t}`),d=k(()=>e.name||v.value),s=new Set;return Qe(lt,{modelValue:i,forceUpdate:()=>{s.forEach(a=>a())},onForceUpdate:a=>{s.add(a),we(()=>{s.delete(a)})}}),Ke({[e.defaultsTarget]:{color:E(e,"color"),disabled:E(e,"disabled"),density:E(e,"density"),error:E(e,"error"),inline:E(e,"inline"),modelValue:i,multiple:k(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),name:d,falseIcon:E(e,"falseIcon"),trueIcon:E(e,"trueIcon"),readonly:E(e,"readonly"),ripple:E(e,"ripple"),type:E(e,"type"),valueComparator:E(e,"valueComparator")}}),X(()=>{var a;return r("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(a=n.default)==null?void 0:a.call(n)])}),{}}});const nt=R({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...ae(),...at()},"VSelectionControl");function fl(e){const c=Je(lt,void 0),{densityClasses:n}=Ye(e),i=Z(e,"modelValue"),t=k(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),v=k(()=>e.falseValue!==void 0?e.falseValue:!1),d=k(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),s=k({get(){const g=c?c.modelValue.value:i.value;return d.value?re(g).some(w=>e.valueComparator(w,t.value)):e.valueComparator(g,t.value)},set(g){if(e.readonly)return;const w=g?t.value:v.value;let C=w;d.value&&(C=g?[...re(i.value),w]:re(i.value).filter(l=>!e.valueComparator(l,t.value))),c?c.modelValue.value=C:i.value=C}}),{textColorClasses:a,textColorStyles:u}=Ht(k(()=>{if(!(e.error||e.disabled))return s.value?e.color:e.baseColor})),{backgroundColorClasses:y,backgroundColorStyles:P}=Ut(k(()=>s.value&&!e.error&&!e.disabled?e.color:e.baseColor)),f=k(()=>s.value?e.trueIcon:e.falseIcon);return{group:c,densityClasses:n,trueValue:t,falseValue:v,model:s,textColorClasses:a,textColorStyles:u,backgroundColorClasses:y,backgroundColorStyles:P,icon:f}}const He=z()({name:"VSelectionControl",directives:{Ripple:je},inheritAttrs:!1,props:nt(),emits:{"update:modelValue":e=>!0},setup(e,c){let{attrs:n,slots:i}=c;const{group:t,densityClasses:v,icon:d,model:s,textColorClasses:a,textColorStyles:u,backgroundColorClasses:y,backgroundColorStyles:P,trueValue:f}=fl(e),g=Ce(),w=G(!1),C=G(!1),l=j(),h=k(()=>e.id||`input-${g}`),p=k(()=>!e.disabled&&!e.readonly);t==null||t.onForceUpdate(()=>{l.value&&(l.value.checked=s.value)});function S(b){p.value&&(w.value=!0,ge(b.target,":focus-visible")!==!1&&(C.value=!0))}function x(){w.value=!1,C.value=!1}function D(b){b.stopPropagation()}function N(b){if(!p.value){l.value&&(l.value.checked=s.value);return}e.readonly&&t&&ce(()=>t.forceUpdate()),s.value=b.target.checked}return X(()=>{var $,K;const b=i.label?i.label({label:e.label,props:{for:h.value}}):e.label,[O,q]=Mt(n),_=r("input",B({ref:l,checked:s.value,disabled:!!e.disabled,id:h.value,onBlur:x,onFocus:S,onInput:N,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:f.value,name:e.name,"aria-checked":e.type==="checkbox"?s.value:void 0},q),null);return r("div",B({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":w.value,"v-selection-control--focus-visible":C.value,"v-selection-control--inline":e.inline},v.value,e.class]},O,{style:e.style}),[r("div",{class:["v-selection-control__wrapper",a.value],style:u.value},[($=i.default)==null?void 0:$.call(i,{backgroundColorClasses:y,backgroundColorStyles:P}),ye(r("div",{class:["v-selection-control__input"]},[((K=i.input)==null?void 0:K.call(i,{model:s,textColorClasses:a,textColorStyles:u,backgroundColorClasses:y,backgroundColorStyles:P,inputNode:_,icon:d.value,props:{onFocus:S,onBlur:x,id:h.value}}))??r(J,null,[d.value&&r(te,{key:"icon",icon:d.value},null),_])]),[[We("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),b&&r($t,{for:h.value,onClick:D},{default:()=>[b]})])}),{isFocused:w,input:l}}}),ml=R({indeterminate:Boolean,indeterminateIcon:{type:le,default:"$checkboxIndeterminate"},...nt({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),hl=z()({name:"VCheckboxBtn",props:ml(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,c){let{slots:n}=c;const i=Z(e,"indeterminate"),t=Z(e,"modelValue");function v(a){i.value&&(i.value=!1)}const d=k(()=>i.value?e.indeterminateIcon:e.falseIcon),s=k(()=>i.value?e.indeterminateIcon:e.trueIcon);return X(()=>{const a=ke(He.filterProps(e),["modelValue"]);return r(He,B(a,{modelValue:t.value,"onUpdate:modelValue":[u=>t.value=u,v],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:d.value,trueIcon:s.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}}),yl=R({renderless:Boolean,...ae()},"VVirtualScrollItem"),gl=z()({name:"VVirtualScrollItem",inheritAttrs:!1,props:yl(),emits:{"update:height":e=>!0},setup(e,c){let{attrs:n,emit:i,slots:t}=c;const{resizeRef:v,contentRect:d}=Ze(void 0,"border");Q(()=>{var s;return(s=d.value)==null?void 0:s.height},s=>{s!=null&&i("update:height",s)}),X(()=>{var s,a;return e.renderless?r(J,null,[(s=t.default)==null?void 0:s.call(t,{itemRef:v})]):r("div",B({ref:v,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(a=t.default)==null?void 0:a.call(t)])})}}),bl=-1,pl=1,he=100,Vl=R({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function kl(e,c){const n=Gt(),i=G(0);Fe(()=>{i.value=parseFloat(e.itemHeight||0)});const t=G(0),v=G(Math.ceil((parseInt(e.height)||n.height.value)/(i.value||16))||1),d=G(0),s=G(0),a=j(),u=j();let y=0;const{resizeRef:P,contentRect:f}=Ze();Fe(()=>{P.value=a.value});const g=k(()=>{var o;return a.value===document.documentElement?n.height.value:((o=f.value)==null?void 0:o.height)||parseInt(e.height)||0}),w=k(()=>!!(a.value&&u.value&&g.value&&i.value));let C=Array.from({length:c.value.length}),l=Array.from({length:c.value.length});const h=G(0);let p=-1;function S(o){return C[o]||i.value}const x=zt(()=>{const o=performance.now();l[0]=0;const m=c.value.length;for(let I=1;I<=m-1;I++)l[I]=(l[I-1]||0)+S(I-1);h.value=Math.max(h.value,performance.now()-o)},h),D=Q(w,o=>{o&&(D(),y=u.value.offsetTop,x.immediate(),M(),~p&&ce(()=>{be&&window.requestAnimationFrame(()=>{ie(p),p=-1})}))});we(()=>{x.clear()});function N(o,m){const I=C[o],A=i.value;i.value=A?Math.min(i.value,m):m,(I!==m||A!==i.value)&&(C[o]=m,x())}function b(o){return o=me(o,0,c.value.length-1),l[o]||0}function O(o){return Cl(l,o)}let q=0,_=0,$=0;Q(g,(o,m)=>{m&&(M(),o<m&&requestAnimationFrame(()=>{_=0,M()}))});function K(){if(!a.value||!u.value)return;const o=a.value.scrollTop,m=performance.now();m-$>500?(_=Math.sign(o-q),y=u.value.offsetTop):_=o-q,q=o,$=m,M()}function Y(){!a.value||!u.value||(_=0,$=0,M())}let ee=-1;function M(){cancelAnimationFrame(ee),ee=requestAnimationFrame(de)}function de(){if(!a.value||!g.value)return;const o=q-y,m=Math.sign(_),I=Math.max(0,o-he),A=me(O(I),0,c.value.length),H=o+g.value+he,V=me(O(H)+1,A+1,c.value.length);if((m!==bl||A<t.value)&&(m!==pl||V>v.value)){const T=b(t.value)-b(A),F=b(V)-b(v.value);Math.max(T,F)>he?(t.value=A,v.value=V):(A<=0&&(t.value=A),V>=c.value.length&&(v.value=V))}d.value=b(t.value),s.value=b(c.value.length)-b(v.value)}function ie(o){const m=b(o);!a.value||o&&!m?p=o:a.value.scrollTop=m}const ve=k(()=>c.value.slice(t.value,v.value).map((o,m)=>({raw:o,index:m+t.value})));return Q(c,()=>{C=Array.from({length:c.value.length}),l=Array.from({length:c.value.length}),x.immediate(),M()},{deep:!0}),{calculateVisibleItems:M,containerRef:a,markerRef:u,computedItems:ve,paddingTop:d,paddingBottom:s,scrollToIndex:ie,handleScroll:K,handleScrollend:Y,handleItemResize:N}}function Cl(e,c){let n=e.length-1,i=0,t=0,v=null,d=-1;if(e[n]<c)return n;for(;i<=n;)if(t=i+n>>1,v=e[t],v>c)n=t-1;else if(v<c)d=t,i=t+1;else return v===c?t:i;return d}const Sl=R({items:{type:Array,default:()=>[]},renderless:Boolean,...Vl(),...ae(),...qt()},"VVirtualScroll"),wl=z()({name:"VVirtualScroll",props:Sl(),setup(e,c){let{slots:n}=c;const i=Kt("VVirtualScroll"),{dimensionStyles:t}=Nt(e),{calculateVisibleItems:v,containerRef:d,markerRef:s,handleScroll:a,handleScrollend:u,handleItemResize:y,scrollToIndex:P,paddingTop:f,paddingBottom:g,computedItems:w}=kl(e,E(e,"items"));return jt(()=>e.renderless,()=>{function C(){var p,S;const h=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";d.value===document.documentElement?(document[h]("scroll",a,{passive:!0}),document[h]("scrollend",u)):((p=d.value)==null||p[h]("scroll",a,{passive:!0}),(S=d.value)==null||S[h]("scrollend",u))}Xt(()=>{d.value=Yt(i.vnode.el,!0),C(!0)}),we(C)}),X(()=>{const C=w.value.map(l=>r(gl,{key:l.index,renderless:e.renderless,"onUpdate:height":h=>y(l.index,h)},{default:h=>{var p;return(p=n.default)==null?void 0:p.call(n,{item:l.raw,index:l.index,...h})}}));return e.renderless?r(J,null,[r("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:ue(f.value)}},null),C,r("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ue(g.value)}},null)]):r("div",{ref:d,class:["v-virtual-scroll",e.class],onScrollPassive:a,onScrollend:u,style:[t.value,e.style]},[r("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:ue(f.value),paddingBottom:ue(g.value)}},[C])])}),{calculateVisibleItems:v,scrollToIndex:P}}});function Pl(e,c){const n=G(!1);let i;function t(s){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function v(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(n.value){const a=Q(n,()=>{a(),s()})}else s()})}async function d(s){var y,P;if(s.key==="Tab"&&((y=c.value)==null||y.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const a=(P=e.value)==null?void 0:P.$el;if(!a)return;(s.key==="Home"||s.key==="End")&&a.scrollTo({top:s.key==="Home"?0:a.scrollHeight,behavior:"smooth"}),await v();const u=a.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const f=a.getBoundingClientRect().top;for(const g of u)if(g.getBoundingClientRect().top>=f){g.focus();break}}else{const f=a.getBoundingClientRect().bottom;for(const g of[...u].reverse())if(g.getBoundingClientRect().bottom<=f){g.focus();break}}}return{onScrollPassive:t,onKeydown:d}}const Il=R({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:le,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...tl({itemChildren:!1})},"Select"),xl=R({...Il(),...ke(Wt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Jt({transition:{component:et}})},"VSelect"),Fl=z()({name:"VSelect",props:xl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,c){let{slots:n}=c;const{t:i}=Xe(),t=j(),v=j(),d=j(),s=Z(e,"menu"),a=k({get:()=>s.value,set:o=>{var m;s.value&&!o&&((m=v.value)!=null&&m.ΨopenChildren.size)||(s.value=o)}}),{items:u,transformIn:y,transformOut:P}=ll(e),f=Z(e,"modelValue",[],o=>y(o===null?[null]:re(o)),o=>{const m=P(o);return e.multiple?m:m[0]??null}),g=k(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),w=Qt(),C=k(()=>f.value.map(o=>o.value)),l=G(!1),h=k(()=>a.value?e.closeText:e.openText);let p="",S;const x=k(()=>e.hideSelected?u.value.filter(o=>!f.value.some(m=>e.valueComparator(m,o))):u.value),D=k(()=>e.hideNoData&&!x.value.length||e.readonly||(w==null?void 0:w.isReadonly.value)),N=k(()=>{var o;return{...e.menuProps,activatorProps:{...((o=e.menuProps)==null?void 0:o.activatorProps)||{},"aria-haspopup":"listbox"}}}),b=j(),O=Pl(b,t);function q(o){e.openOnClear&&(a.value=!0)}function _(){D.value||(a.value=!a.value)}function $(o){Le(o)&&K(o)}function K(o){var H,V;if(!o.key||e.readonly||w!=null&&w.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(o.key)&&o.preventDefault(),["Enter","ArrowDown"," "].includes(o.key)&&(a.value=!0),["Escape","Tab"].includes(o.key)&&(a.value=!1),o.key==="Home"?(H=b.value)==null||H.focus("first"):o.key==="End"&&((V=b.value)==null||V.focus("last"));const m=1e3;if(e.multiple||!Le(o))return;const I=performance.now();I-S>m&&(p=""),p+=o.key.toLowerCase(),S=I;const A=u.value.find(T=>T.title.toLowerCase().startsWith(p));if(A!==void 0){f.value=[A];const T=x.value.indexOf(A);be&&window.requestAnimationFrame(()=>{var F;T>=0&&((F=d.value)==null||F.scrollToIndex(T))})}}function Y(o){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!o.props.disabled)if(e.multiple){const I=f.value.findIndex(H=>e.valueComparator(H.value,o.value)),A=m??!~I;if(~I){const H=A?[...f.value,o]:[...f.value];H.splice(I,1),f.value=H}else A&&(f.value=[...f.value,o])}else{const I=m!==!1;f.value=I?[o]:[],ce(()=>{a.value=!1})}}function ee(o){var m;(m=b.value)!=null&&m.$el.contains(o.relatedTarget)||(a.value=!1)}function M(){var o;e.eager&&((o=d.value)==null||o.calculateVisibleItems())}function de(){var o;l.value&&((o=t.value)==null||o.focus())}function ie(o){l.value=!0}function ve(o){if(o==null)f.value=[];else if(ge(t.value,":autofill")||ge(t.value,":-webkit-autofill")){const m=u.value.find(I=>I.title===o);m&&Y(m)}else t.value&&(t.value.value="")}return Q(a,()=>{if(!e.hideSelected&&a.value&&f.value.length){const o=x.value.findIndex(m=>f.value.some(I=>e.valueComparator(I.value,m.value)));be&&window.requestAnimationFrame(()=>{var m;o>=0&&((m=d.value)==null||m.scrollToIndex(o))})}}),Q(()=>e.items,(o,m)=>{a.value||l.value&&!m.length&&o.length&&(a.value=!0)}),X(()=>{const o=!!(e.chips||n.chip),m=!!(!e.hideNoData||x.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),I=f.value.length>0,A=Re.filterProps(e),H=I||!l.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return r(Re,B({ref:t},A,{modelValue:f.value.map(V=>V.props.value).join(", "),"onUpdate:modelValue":ve,focused:l.value,"onUpdate:focused":V=>l.value=V,validationValue:f.externalValue,counterValue:g.value,dirty:I,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":f.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:H,"onClick:clear":q,"onMousedown:control":_,onBlur:ee,onKeydown:K,"aria-label":i(h.value),title:i(h.value)}),{...n,default:()=>r(J,null,[r(cl,B({ref:v,modelValue:a.value,"onUpdate:modelValue":V=>a.value=V,activator:"parent",contentClass:"v-select__content",disabled:D.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:M,onAfterLeave:de},N.value),{default:()=>[m&&r(al,B({ref:b,selected:C.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:V=>V.preventDefault(),onKeydown:$,onFocusin:ie,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},O,e.listProps),{default:()=>{var V,T,F;return[(V=n["prepend-item"])==null?void 0:V.call(n),!x.value.length&&!e.hideNoData&&(((T=n["no-data"])==null?void 0:T.call(n))??r(Oe,{title:i(e.noDataText)},null)),r(wl,{ref:d,renderless:!0,items:x.value},{default:W=>{var Ie;let{item:U,index:ne,itemRef:L}=W;const Pe=B(U.props,{ref:L,key:ne,onClick:()=>Y(U,null)});return((Ie=n.item)==null?void 0:Ie.call(n,{item:U,index:ne,props:Pe}))??r(Oe,B(Pe,{role:"option"}),{prepend:ot=>{let{isSelected:it}=ot;return r(J,null,[e.multiple&&!e.hideSelected?r(hl,{key:U.value,modelValue:it,ripple:!1,tabindex:"-1"},null):void 0,U.props.prependAvatar&&r(pe,{image:U.props.prependAvatar},null),U.props.prependIcon&&r(te,{icon:U.props.prependIcon},null)])}})}}),(F=n["append-item"])==null?void 0:F.call(n)]}})]}),f.value.map((V,T)=>{function F(L){L.stopPropagation(),L.preventDefault(),Y(V,!1)}const W={"onClick:close":F,onKeydown(L){L.key!=="Enter"&&L.key!==" "||(L.preventDefault(),L.stopPropagation(),F(L))},onMousedown(L){L.preventDefault(),L.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},U=o?!!n.chip:!!n.selection,ne=U?Zt(o?n.chip({item:V,index:T,props:W}):n.selection({item:V,index:T})):void 0;if(!(U&&!ne))return r("div",{key:V.value,class:"v-select__selection"},[o?n.chip?r(oe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:V.title}}},{default:()=>[ne]}):r(ul,B({key:"chip",closable:e.closableChips,size:"small",text:V.title,disabled:V.props.disabled},W),null):ne??r("span",{class:"v-select__selection-text"},[V.title,e.multiple&&T<f.value.length-1&&r("span",{class:"v-select__selection-comma"},[el(",")])])])})]),"append-inner":function(){var W;for(var V=arguments.length,T=new Array(V),F=0;F<V;F++)T[F]=arguments[F];return r(J,null,[(W=n["append-inner"])==null?void 0:W.call(n,...T),e.menuIcon?r(te,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Se({isFocused:l,menu:a,select:Y},t)}});export{ul as V,et as a,Fl as b,Dl as c};
